(self.AMP=self.AMP||[]).push({n:"amp-form",v:"1496245713200",f:(function(AMP){var l;function m(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}function aa(a){return 2>a.length?!1:0==a.lastIndexOf("on",0)};var ba=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;var ca=Object.prototype.toString;function da(a){if(!a)return[];for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=a[c];return b};Date.now();self.log=self.log||{user:null,dev:null};var n=self.log;function q(){if(n.user)return n.user;throw Error("failed to call initLogConstructor");};var ea=Object.prototype.hasOwnProperty;
function fa(a,b){var c=Number.POSITIVE_INFINITY,d=[],e=[{target:a,source:b,depth:0}];for(a={};0<e.length;){b=e.shift();a.h=b.target;a.c=b.source;a.depth=b.depth;if(d.includes(a.c))throw Error("Source object contains circular references");d.push(a.c);a.h!==a.c&&(a.depth>c?Object.assign(a.h,a.c):(Object.keys(a.c).forEach(function(a){return function(b){var c=a.c[b];if(ea.call(a.h,b)){var d=a.h[b];if("[object Object]"===ca.call(c)&&"[object Object]"===ca.call(d)){e.push({target:d,source:c,depth:a.depth+
1});return}}a.h[b]=c}}(a)),a={c:a.c,h:a.h,depth:a.depth}))}};var r=self.AMP_CONFIG||{},ga=("string"==typeof r.cdnProxyRegex?new RegExp(r.cdnProxyRegex):r.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org/;var t,u;
function v(a){var b;t||(t=self.document.createElement("a"),u=self.UrlCache||(self.UrlCache=Object.create(null)));var c=u[a];if(c)return c;var d=t;d.href=a;d.protocol||(d.href=d.href);var e={href:d.href,protocol:d.protocol,host:d.host,hostname:d.hostname,port:"0"==d.port?"":d.port,pathname:d.pathname,search:d.search,hash:d.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname);if("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)e.port="",e.host=e.hostname;e.origin=d.origin&&
"null"!=d.origin?d.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href;var f=e,h=f;return b?h:u[a]=h}function ha(a){"string"==typeof a&&(a=v(a));var b;(b="https:"==a.protocol||"localhost"==a.hostname)||(a=a.hostname,b=a.length-10,b=0<=b&&a.indexOf(".localhost",b)==b);return b}
function ia(a,b,c){c=void 0===c?"source":c;q().assert(null!=a,"%s %s must be available",b,c);var d=a;q().assert(ha(d)||/^(\/\/)/.test(d),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,c,d)}function ja(a){"string"==typeof a&&(a=v(a));return ga.test(a.origin)};var w=null;
function ka(a){var b="amp-form-verifiers",c;if(!w){w=Object.create(null);if(a.AMP_CONFIG)for(c in a.AMP_CONFIG){var d=a.AMP_CONFIG[c];"number"===typeof d&&0<=d&&1>=d&&(w[c]=Math.random()<d)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length&&(c=a.AMP_CONFIG["allow-doc-opt-in"],d=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]')))for(var d=d.getAttribute("content").split(","),e=0;e<d.length;e++)-1!=c.indexOf(d[e])&&(w[d[e]]=
!0);Object.assign(w,la(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){c=a.AMP_CONFIG["allow-url-opt-in"];d=a.location.originalHash||a.location.hash;a=Object.create(null);if(d)for(var f;f=ba.exec(d);)e=decodeURIComponent(f[1]).trim(),f=f[2]?decodeURIComponent(f[2]).trim():"",a[e]=f;for(d=0;d<c.length;d++)e=a["e-"+c[d]],"1"==e&&(w[c[d]]=!0),"0"==e&&(w[c[d]]=!1)}}c=w;var h=c;return!!h[b]}
function la(a){a:{var b;b:{try{b=a.document.cookie;break b}catch(h){}b=void 0}if(a=b)for(a=a.split(";"),b=0;b<a.length;b++){var c=a[b].trim(),d=c.indexOf("=");if(-1!=d&&"AMP_EXP"==decodeURIComponent(c.substring(0,d).trim())){a=decodeURIComponent(c.substring(d+1).trim());break a}}a=null}var e=a,f=e?e.split(/\s*,\s*/g):[];a=Object.create(null);for(b=0;b<f.length;b++)0!=f[b].length&&("-"==f[b][0]?a[f[b].substr(1)]=!1:a[f[b]]=!0);return a};function ma(a,b){if(a.nodeType){var c=(a.ownerDocument||a).defaultView;if(c=c!=(c.__AMP_TOP||c)&&na(c,b)?x(c,b):null)return c}return y(a,b)}function z(a,b){a=a.__AMP_TOP||a;return x(a,b)}function y(a,b){a=A(a);a=B(a);return x(a,b)}function A(a){return a.nodeType?z((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function B(a){a=A(a);return a.isSingleDoc()?a.win:a}
function x(a,b){na(a,b);var c=C(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function oa(a){var b=pa(a);if(b)return b;var c,d=new Promise(function(a){c=a});C(a)["amp-analytics-instrumentation"]={obj:null,promise:d,resolve:c,context:null,ctor:null};return d}
function pa(a){var b=C(a)["amp-analytics-instrumentation"];if(b){if(b.promise)return b.promise;x(a,"amp-analytics-instrumentation");return b.promise=Promise.resolve(b.obj)}return null}function C(a){var b=a.services;b||(b=a.services={});return b}function na(a,b){a=a.services&&a.services[b];return!(!a||!a.ctor&&!a.obj)};var D;function qa(a,b){if(null==D)try{a.ownerDocument.querySelector(":scope"),D=!0}catch(d){D=!1}if(D)return a.querySelector(":scope "+b);var c="i-amphtml-scoped";a.classList.add(c);b=a.querySelector("."+c+" "+b);a.classList.remove(c);return b}function ra(a,b){for(var c=[],d=a.parentElement;d;d=d.parentElement)b(d)&&c.push(d);return c}function sa(a){var b="fieldset",b=b.toUpperCase();return ra(a,function(a){return a.tagName==b})}function ta(a,b){for(var c=0,d;void 0!==(d=a[c]);c++)b(d,c)}
function ua(a){return"SCRIPT"==a.tagName&&"APPLICATION/JSON"==a.getAttribute("type").toUpperCase()};function va(a){return a.ampExtendedElements?!!a.ampExtendedElements["amp-analytics"]:!1}function wa(a){var b=A(a),c=pa(B(a));return c?c:Promise.resolve().then(function(){return va(b.win)?oa(B(a)):b.whenBodyAvailable().then(function(){return va(b.win)?oa(B(a)):null})})};var E,xa="Webkit webkit Moz moz ms O o".split(" ");function ya(a,b){for(var c in b){var d=a,e=b[c],f;f=d.style;var h=c;E||(E=Object.create(null));var g=E[h];if(!g){g=h;if(void 0===f[h]){var k;k=h;k=k.charAt(0).toUpperCase()+k.slice(1);a:{for(var p=0;p<xa.length;p++){var J=xa[p]+k;if(void 0!==f[J]){k=J;break a}}k=""}void 0!==f[k]&&(g=k)}E[h]=g}(f=g)&&(d.style[f]=e)}};function za(a,b){var c,d,e="form.amp-form-submit-error [submit-error],form.amp-form-submit-success [submit-success],form.amp-form-submitting [submitting]{display:block}.i-amphtml-validation-bubble{-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%);background-color:#fff;box-shadow:0 5px 15px 0 rgba(0,0,0,.5);max-width:200px;position:absolute;display:none;box-sizing:border-box;padding:10px;border-radius:5px}.i-amphtml-validation-bubble:after{content:' ';position:absolute;bottom:-8px;left:30px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff}[visible-when-invalid]{display:none;color:red}[visible-when-invalid].visible{display:initial}\n/*# sourceURL=/extensions/amp-form/0.1/amp-form.css*/",
f=Aa(a,a.head,e,c||!1,d||null);if(Ba(a,f))b(f);else var h=setInterval(function(){Ba(a,f)&&(clearInterval(h),b(f))},4)}
function Aa(a,b,c,d,e){if(d&&b.runtimeStyleElement)return b.runtimeStyleElement;if(b.parentElement&&b.parentElement.hasAttribute("i-amphtml-layout")&&(d||e&&"amp-custom"!=e)){var f=d?b.querySelector("style[amp-runtime]"):b.querySelector("style[amp-extension="+e+"]");if(f)return d&&(b.runtimeStyleElement=f),f}a=a.createElement("style");a.textContent=c;var h=null;d?(a.setAttribute("amp-runtime",""),b.runtimeStyleElement=a):"amp-custom"==e?(a.setAttribute("amp-custom",""),h=b.lastChild):(a.setAttribute("amp-extension",
e||""),h=b.runtimeStyleElement);c=b;var g=h;g?g.nextSibling?c.insertBefore(a,g.nextSibling):c.appendChild(a):c.insertBefore(a,c.firstChild);return a}function Ba(a,b){var c=a.styleSheets;for(a=0;a<c.length;a++){var d=c[a];if(d.ownerNode==b)return!0}return!1};function F(a){var b,c;this.M=new Promise(function(a,d){b=a;c=d});this.Y=b;this.W=c;this.D=0;if(a)for(var d=0;d<a.length;d++)this.add(a[d])}F.prototype.add=function(a){var b=this,c=++this.D;Promise.resolve(a).then(function(a){b.D===c&&b.Y(a)},function(a){b.D===c&&b.W(a)});return this.M};F.prototype.then=function(a,b){return this.M.then(a,b)};function Ca(a,b){try{return JSON.parse(a)}catch(c){b&&b(c)}};function G(a,b,c){wa(a).then(function(d){d&&d.triggerEventForTarget(a,b,c)})};/*

 Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 Code distributed by Google as part of the polymer project is also
 subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var Fa={strictStyling:!1,scopeRules:function(a,b,c){var d="";a&&Array.prototype.forEach.call(a,function(a){if(a.selectorText&&a.style&&void 0!==a.style.cssText)d+=this.scopeSelector(a.selectorText,b,this.strictStyling,c)+" {\n\t",d+=this.propertiesFromRule(a)+"\n}\n\n";else if(a.type===CSSRule.MEDIA_RULE)d+="@media "+a.media.mediaText+" {\n",d+=this.scopeRules(a.cssRules,b),d+="\n}\n\n";else try{a.cssText&&(d+=a.cssText+"\n\n")}catch(f){a.type===CSSRule.KEYFRAMES_RULE&&a.cssRules&&(d+=this.ieSafeCssTextFromKeyFrameRule(a))}},
this);return d},ieSafeCssTextFromKeyFrameRule:function(a){var b="@keyframes "+a.name+" {";Array.prototype.forEach.call(a.cssRules,function(a){b+=" "+a.keyText+" {"+a.style.cssText+"}"});return b+=" }"},scopeSelector:function(a,b,c,d){var e=[];a.split(",").forEach(function(a){a=a.trim();d&&(a=d(a));this.selectorNeedsScoping(a,b)&&(a=c&&!a.match(Da)?this.applyStrictSelectorScope(a,b):this.applySelectorScope(a,b));e.push(a)},this);return e.join(", ")},selectorNeedsScoping:function(a,b){if(Array.isArray(b))return!0;
var c=this.makeScopeMatcher(b);return!a.match(c)},makeScopeMatcher:function(a){a=a.replace(/\[/g,"\\[").replace(/\]/g,"\\]");return new RegExp("^("+a+")"+Ea,"m")},applySelectorScope:function(a,b){return Array.isArray(b)?this.applySelectorScopeList(a,b):this.applySimpleSelectorScope(a,b)},applySelectorScopeList:function(a,b){for(var c=[],d=0,e;e=b[d];d++)c.push(this.applySimpleSelectorScope(a,e));return c.join(", ")},applySimpleSelectorScope:function(a,b){return a.match(H)?(a=a.replace(Da,b),a.replace(H,
b+" ")):b+" "+a},applyStrictSelectorScope:function(a,b){b=b.replace(/\[is=([^\]]*)\]/g,"$1");var c=[" ",">","+","~"],d=a,e="["+b+"]";c.forEach(function(a){d=d.split(a).map(function(a){var b=a.trim().replace(H,"");b&&0>c.indexOf(b)&&0>b.indexOf(e)&&(a=b.replace(/([^:]*)(:*)(.*)/,"$1"+e+"$2$3"));return a}).join(a)});return d},propertiesFromRule:function(a){var b=a.style.cssText;a.style.content&&!a.style.content.match(/['"]+|attr/)&&(b=b.replace(/content:[^;]*;/g,"content: '"+a.style.content+"';"));
a=a.style;for(var c in a)"initial"===a[c]&&(b+=c+": initial; ");return b}},Ea="([>\\s~+[.,{:][\\s\\S]*)?$",Da="-shadowcsshost-no-combinator",H=/-shadowcsshost/gim;var I;function Ga(a){return!!a&&-1!==a.toString().indexOf("[native code]")};var Ha=/[^\.\-\_0-9a-zA-Z]/,Ia=/[^\-\_0-9a-zA-Z]/;function Ja(a){return a.replace(/(html|body)/g,Ka)}function Ka(a,b,c,d){var e=d.charAt(c-1),f=d.charAt(c+a.length);return e&&!Ha.test(e)||f&&!Ia.test(f)?a:"amp-"+a}
function La(a){var b=a.createElement("style");b.textContent="form.amp-form-submit-error [submit-error],form.amp-form-submit-success [submit-success],form.amp-form-submitting [submitting]{display:block}.i-amphtml-validation-bubble{-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%);background-color:#fff;box-shadow:0 5px 15px 0 rgba(0,0,0,.5);max-width:200px;position:absolute;display:none;box-sizing:border-box;padding:10px;border-radius:5px}.i-amphtml-validation-bubble:after{content:' ';position:absolute;bottom:-8px;left:30px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff}[visible-when-invalid]{display:none;color:red}[visible-when-invalid].visible{display:initial}\n/*# sourceURL=/extensions/amp-form/0.1/amp-form.css*/";try{return(a.head||
a.documentElement).appendChild(b),b.sheet?b.sheet.cssRules:null}finally{b.parentNode&&b.parentNode.removeChild(b)}};function Ma(a){var b=a.ownerDocument.defaultView;b.FormProxy||(b.FormProxy=Na(b));var c=b.FormProxy,b=new c(a);"action"in b||Oa(a,b);a.$p=b}
function Na(a){function b(a){this.a=a}var c=b.prototype,d=[a.HTMLFormElement,a.HTMLElement,a.Element,a.Node,a.EventTarget];d.forEach(function(b){var d=b&&b.prototype,e={},g;for(g in d)if(e.property=a.Object.getOwnPropertyDescriptor(d,g),e.property&&g.toUpperCase()!=g&&!aa(g)&&!a.Object.prototype.hasOwnProperty.call(c,g)){if("function"==typeof e.property.value)e.method=e.property.value,c[g]=function(a){return function(){return a.method.apply(this.a,arguments)}}(e);else{var k={};e.property.get&&(k.get=
function(a){return function(){return a.property.get.call(this.a)}}(e));e.property.set&&(k.set=function(a){return function(b){return a.property.set.call(this.a,b)}}(e));a.Object.defineProperty(c,g,k)}e={method:e.method,property:e.property}}});return b}
function Oa(a,b){var c=a.ownerDocument.defaultView.HTMLFormElement.prototype.cloneNode.call(a,!1),d={},e;for(e in c)if(d.name=e,!(d.name in b||d.name.toUpperCase()==d.name||aa(d.name))){d.desc=Pa[d.name];c=a[d.name];if(d.desc)if(d.desc.access==K){d.actual=void 0;if(c&&c.nodeType){var f=c.nextSibling,h=c.parentNode;h.removeChild(c);try{d.actual=a[d.name]}finally{h.insertBefore(c,f)}}else d.actual=c;Object.defineProperty(b,d.name,{get:function(a){return function(){return a.actual}}(d)})}else d.desc.access==
L&&(d.attr=d.desc.attr||d.name,Object.defineProperty(b,d.name,{get:function(a){return function(){var c=b.getAttribute(a.attr);null==c&&void 0!==a.desc.def?c=a.desc.def:a.desc.type==Qa?c="true"===c:a.desc.type==M?c=null!=c:a.desc.type==Ra&&(c=v(c||"").href);return c}}(d),set:function(a){return function(c){a.desc.type==M&&(c=c?"":null);null!=c?b.setAttribute(a.attr,c):b.removeAttribute(a.attr)}}(d)}));else Object.defineProperty(b,d.name,{get:function(b){return function(){return a[b.name]}}(d),set:function(b){return function(c){a[b.name]=
c}}(d)});d={actual:d.actual,attr:d.attr,desc:d.desc,name:d.name}}}
var L=1,K=2,Ra=1,Qa=2,M=3,Pa={acceptCharset:{access:L,attr:"accept-charset"},accessKey:{access:L,attr:"accesskey"},action:{access:L,type:Ra},attributes:{access:K},autocomplete:{access:L,def:"on"},children:{access:K},dataset:{access:K},dir:{access:L},draggable:{access:L,type:Qa,def:!1},elements:{access:K},encoding:{access:K},enctype:{access:L},hidden:{access:L,type:M,def:!1},id:{access:L,def:""},lang:{access:L},localName:{access:K},method:{access:L,def:"get"},name:{access:L},noValidate:{access:L,attr:"novalidate",
type:M,def:!1},prefix:{access:K},spellcheck:{access:L},style:{access:K},target:{access:L,def:""},title:{access:L},translate:{access:L}};function N(a,b){this.I=b;this.ba=y(a,"viewport");this.B=z(a.win,"vsync");this.G=null;this.F="";this.w=!1;this.j=a.win.document.createElement("div");this.j.classList.add("i-amphtml-validation-bubble");this.j.__BUBBLE_OBJ=this;a.getBody().appendChild(this.j)}N.prototype.isActiveOn=function(a){return this.w&&a==this.G};N.prototype.hide=function(){this.w&&(this.w=!1,this.G=null,this.F="",this.B.run({measure:void 0,mutate:Sa},{bubbleElement:this.j}))};
N.prototype.show=function(a,b){if(!this.isActiveOn(a)||b!=this.F){this.w=!0;this.G=a;this.F=b;var c={message:b,targetElement:a,bubbleElement:this.j,viewport:this.ba,id:this.I};this.B.run({measure:Ta,mutate:Ua},c)}};function Sa(a){a.bubbleElement.removeAttribute("aria-alert");a.bubbleElement.removeAttribute("role");for(var b=a.bubbleElement;b.firstChild;)b.removeChild(b.firstChild);ya(a.bubbleElement,{display:"none"})}function Ta(a){a.targetRect=a.viewport.getLayoutRect(a.targetElement)}
function Ua(a){for(var b=a.bubbleElement;b.firstChild;)b.removeChild(b.firstChild);var c=a.bubbleElement.ownerDocument.createElement("div");c.id="bubble-message-"+a.id;c.textContent=a.message;a.bubbleElement.setAttribute("aria-labeledby",c.id);a.bubbleElement.setAttribute("role","alert");a.bubbleElement.setAttribute("aria-live","assertive");a.bubbleElement.appendChild(c);ya(a.bubbleElement,{display:"block",top:a.targetRect.top-10+"px",left:a.targetRect.left+a.targetRect.width/2+"px"})};var O,P,Va=0;function Q(a){this.form=a;this.ampdoc=z((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a);this.doc=a.ownerDocument}Q.prototype.report=function(){};Q.prototype.onBlur=function(){};Q.prototype.onInput=function(){};function R(a){Q.apply(this,arguments)}m(R,Q);R.prototype.report=function(){this.form.reportValidity()};function S(a){Q.call(this,a);var b="i-amphtml-validation-bubble-"+Va++;this.m=new N(this.ampdoc,b)}m(S,Q);
S.prototype.report=function(){for(var a=this.form.querySelectorAll("input,select,textarea"),b=0;b<a.length;b++)if(!a[b].checkValidity()){a[b].focus();this.m.show(a[b],a[b].validationMessage);break}};S.prototype.onBlur=function(){this.m.hide()};S.prototype.onInput=function(a){a=a.target;this.m.isActiveOn(a)&&(a.checkValidity()?(a.removeAttribute("aria-invalid"),this.m.hide()):(a.setAttribute("aria-invalid","true"),this.m.show(a,a.validationMessage)))};
function T(a){Q.call(this,a);this.J={};this.v={}}m(T,Q);l=T.prototype;l.reportInput=function(a){var b;a:{for(b in a.validity)if(a.validity[b])break a;b=null}var c=b;c&&this.showValidationFor(a,c)};l.hideAllValidations=function(){for(var a in this.v){var b=this.doc.getElementById(a);this.hideValidationFor(b)}};l.getValidationFor=function(a,b){if(!a.id)return null;a="[visible-when-invalid="+b+"]"+("[validation-for="+a.id+"]");void 0===this.J[a]&&(this.J[a]=this.doc.querySelector(a));return this.J[a]};
l.showValidationFor=function(a,b){var c=this.getValidationFor(a,b);c&&(c.textContent.trim()||(c.textContent=a.validationMessage),a.setAttribute("aria-invalid","true"),c.classList.add("visible"),this.v[a.id]=c)};l.hideValidationFor=function(a){var b=this.getVisibleValidationFor(a);b&&(a.removeAttribute("aria-invalid"),b.classList.remove("visible"),delete this.v[a.id])};l.getVisibleValidationFor=function(a){return a.id?this.v[a.id]:null};
l.shouldValidateOnInteraction=function(){throw Error("Not Implemented");};l.onInteraction=function(a){a=a.target;var b=this.shouldValidateOnInteraction(a);this.hideValidationFor(a);b&&!a.checkValidity()&&this.reportInput(a)};l.onBlur=function(a){this.onInteraction(a)};l.onInput=function(a){this.onInteraction(a)};function U(a){T.apply(this,arguments)}m(U,T);
U.prototype.report=function(){this.hideAllValidations();for(var a=this.form.querySelectorAll("input,select,textarea"),b=0;b<a.length;b++)if(!a[b].checkValidity()){this.reportInput(a[b]);a[b].focus();break}};U.prototype.shouldValidateOnInteraction=function(a){return!!this.getVisibleValidationFor(a)};function V(a){T.apply(this,arguments)}m(V,T);
V.prototype.report=function(){this.hideAllValidations();for(var a=null,b=this.form.querySelectorAll("input,select,textarea"),c=0;c<b.length;c++)b[c].checkValidity()||(a=a||b[c],this.reportInput(b[c]));a&&a.focus()};V.prototype.shouldValidateOnInteraction=function(a){return!!this.getVisibleValidationFor(a)};function Wa(a){T.apply(this,arguments)}m(Wa,T);Wa.prototype.shouldValidateOnInteraction=function(){return!0};
function Xa(a){var b=a.getAttribute("custom-validation-reporting");switch(b){case "as-you-go":return new Wa(a);case "show-all-on-submit":return new V(a);case "show-first-on-submit":return new U(a)}a.ownerDocument&&void 0===O&&(O=!!document.createElement("form").reportValidity);return O?new R(a):new S(a)};function Ya(a,b){var c=a.ownerDocument.defaultView,d=qa(a,"> script");return d?(q().assert(ka(c),'Enable "amp-form-verifiers" experiment to use form verifiers'),c=Za(d),new W(a,c,b)):new $a(a,[])}
function Za(a){if(ua(a)){var b=Ca(a.textContent,function(){throw q().createError("Failed to parse amp-form config. Is it valid JSON?");}),b=b&&b.verificationGroups;if(!b||!b.length)throw q().createError("The amp-form verification config should contain an array property verificationGroups with at least one element");return b.map(function(b){var c=a.parentElement;return new ab(b.elements.map(function(a){var b=c.elements[a];if(b){if(bb.includes(b.tagName))return b;throw q().createError("Verification elements must be one of "+
bb.join(", "));}throw q().createError('Form %s has no element named "'+a+'" ',c);}))})}throw q().createError('The amp-form verification config should be put in a <script> tag with type="application/json"');}var bb=["BUTTON","INPUT","SELECT","TEXTAREA"];function X(a,b){this.a=a;this.l=b}X.prototype.onMutate=function(){};X.prototype.onCommit=function(){};function $a(a){X.apply(this,arguments)}m($a,X);function W(a,b,c){X.call(this,a,b);this.s=c;this.ea=this.o=null}m(W,X);W.prototype.ia=function(){return this.ea};
W.prototype.onMutate=function(a){if(a=cb(this,a))a.setDirty(!0),a.clearErrors()};W.prototype.onCommit=function(a,b){cb(this,a)&&db(this,b)};
function db(a,b){if(eb(a)){var c=a.s().then(function(){return[]},function(a){return(a=a&&a.responseJson)&&a.verifyErrors?a.verifyErrors:[]});fb(a,c).then(function(b){for(var c=b,d=[],h=[],g=0;g<c.length;g++){var k=c[g],p=a.a.querySelector('[name="'+k.name+'"]');p&&p.checkValidity()&&(p.setCustomValidity(k.message),d.push(p))}for(c=0;c<a.l.length;c++)g=a.l[c],g.isFilledOut()&&g.containsNone(d)&&(g.setDirty(!1),h=h.concat(g.getElements()));return d.concat(h)}).then(function(a){return b(a)})}}
function fb(a,b){if(!a.o){a.o=new F;var c=function(){a.o=null};a.o.then(c,c)}return a.o.add(b)}function eb(a){return a.l.some(function(a){return a.shouldVerify()})}function cb(a,b){for(var c=0;c<a.l.length;c++){var d=a.l[c];if(d.contains(b))return d}return null}function ab(a){this.u=a;this.L=!1}l=ab.prototype;l.getElements=function(){return this.u};l.setDirty=function(a){this.L=a};l.isDirty=function(){return this.L};l.contains=function(a){return this.u.includes(a)};
l.containsNone=function(a){var b=this;return!a.some(function(a){return b.contains(a)})};l.shouldVerify=function(){return this.isDirty()&&this.isFilledOut()};l.isFilledOut=function(){return this.u.every(function(a){return a.checkValidity()})};l.clearErrors=function(){this.u.forEach(function(a){return a.setCustomValidity("")})};var gb=["amp-selector"];
function hb(a,b){var c=this;try{Ma(a)}catch(f){var d;if(n.dev)d=n.dev;else throw Error("failed to call initLogConstructor");d.error("amp-form","form proxy failed to install",f)}a.__AMP_FORM=this;this.I=b;this.i=a.ownerDocument.defaultView;this.P=z(this.i,"timer");this.R=ma(a,"url-replace");this.H=null;this.a=a;this.B=z(this.i,"vsync");this.O=z(this.i,"templates");this.fa=z(this.i,"xhr");this.C=ma(this.a,"action");this.Z=y(this.a,"resources");this.g=(this.a.getAttribute("method")||"GET").toUpperCase();
this.aa=this.a.getAttribute("target");if(this.b=this.a.getAttribute("action-xhr"))ia(this.b,this.a,"action-xhr"),q().assert(!ja(this.b),"form action-xhr should not be on AMP CDN: %s",this.a);this.K=void 0;this.N=!this.a.hasAttribute("novalidate");this.a.setAttribute("novalidate","");this.N||this.a.setAttribute("amp-novalidate","");this.a.classList.add("i-amphtml-form");var e=this.a.querySelectorAll('[type="submit"]');this.$=da(e);this.f=null;a=this.a.elements;for(b=0;b<a.length;b++)d=a[b].name,q().assert("__amp_source_origin"!=
d&&"__amp_form_verify"!=d,"Illegal input name, %s found: %s",d,a[b]);this.A=Xa(this.a);this.S=Ya(this.a,function(){return ib(c)});this.C.installActionHandler(this.a,this.T.bind(this));jb(this);this.X=this.da=null}l=hb.prototype;l.T=function(a){"submit"==a.method&&kb(this).then(this.U.bind(this))};function kb(a){if(a.H)return a.H;var b=a.a.querySelectorAll(gb.join(",")),c=da(b).map(function(a){return a.whenBuilt()});return a.H=Promise.race([Promise.all(c),a.P.promise(2E3)])}
function jb(a){a.a.addEventListener("submit",a.V.bind(a),!0);a.a.addEventListener("blur",function(b){Y(b.target,!0);a.A.onBlur(b)},!0);a.a.addEventListener("change",function(b){a.S.onCommit(b.target,function(c){c.forEach(function(a){Y(a,!0)});a.A.onBlur(b);"verifying"===a.f&&Z(a,"initial")})});a.a.addEventListener("input",function(b){Y(b.target,!0);a.A.onInput(b);a.S.onMutate(b.target)})}
function lb(a){var b={},c=mb(a),d;for(d in c)c.hasOwnProperty(d)&&(b["formFields["+d+"]"]=c[d].join(","));b.formId=a.a.id;G(a.a,"amp-form-submit",b)}l.U=function(){"submitting"!=this.f&&nb(this)&&(ob(this),"GET"!=this.g||this.b||this.a.submit())};l.V=function(a){"submitting"!=this.f&&nb(this)?((this.b||"POST"==this.g)&&a.preventDefault(),ob(this)):(a.stopImmediatePropagation(),a.preventDefault())};
function ob(a){var b=pb(a);if(a.b)qb(a,b);else if("POST"==a.g)q().assert(!1,"Only XHR based (via action-xhr attribute) submissions are support for POST requests. %s",a.a);else if("GET"==a.g){for(var c=b,d=0;d<c.length;d++)a.R.expandInputValueSync(c[d]);lb(a)}}
function pb(a){var b;if(void 0!==a.K)b=a.K;else{b=y(a.a,"documentInfo").get();b=v(b.canonicalUrl).origin;var c=a.b||a.a.getAttribute("action");b=a.K=v(c).origin==b}if(b)return a.a.querySelectorAll('[type="hidden"][data-amp-replace]');q().warn("amp-form","Variable substitutions disabled for non-canonical origin submit action: %s",a.a);return[]}
function ib(a){if("submitting"===a.f)return Promise.resolve();Z(a,"verifying");var b=rb(a,pb(a)).then(function(){var b={};return a.s((b.__amp_form_verify=!0,b))});return b}
function qb(a,b){sb(a);Z(a,"submitting");rb(a,b).then(function(){lb(a);a.C.trigger(a.a,"submit",null)}).then(function(){return a.s()}).then(function(b){return tb(a,b)},function(b){var c=b&&b.error||b;ub(a,!1,b?b.responseJson:null);G(a.a,"amp-form-submit-error",void 0);sb(a);Z(a,"submit-error");vb(a,b.responseJson||{});wb(a,b.response);q().error("amp-form","Form submission failed: "+c)})}
function rb(a,b){for(var c=[],d=0;d<b.length;d++)c.push(a.R.expandInputValueAsync(b[d]));return Promise.race([Promise.all(c),a.P.promise(100)])}
l.s=function(a){var b="GET"==this.g||"HEAD"==this.g,c=mb(this,a);vb(this,c);var d,e;if(b){var f=this.b,h=[],g;for(g in c){var k=c[g];if(null!=k)if(Array.isArray(k))for(var p=0;p<k.length;p++){var J=k[p];h.push(encodeURIComponent(g)+"="+encodeURIComponent(J))}else h.push(encodeURIComponent(g)+"="+encodeURIComponent(k))}(c=h.join("&"))?(f=f.split("#",2),g=f[0].split("?",2),c=g[0]+(g[1]?"?"+g[1]+"&"+c:"?"+c),d=c+=f[1]?"#"+f[1]:""):d=f}else for(f in d=this.b,e=new FormData(this.a),a)e.append(f,a[f]);
return this.fa.fetch(d,{body:e,method:this.g,credentials:"include",headers:{Accept:"application/json"}})};function tb(a,b){return b.json().then(function(c){ub(a,!0,c);G(a.a,"amp-form-submit-success",void 0);sb(a);Z(a,"submit-success");vb(a,c||{});wb(a,b)},function(a){q().error("amp-form","Failed to parse response JSON: "+a)})}
function nb(a){void 0===P&&(P=!!a.i.document.createElement("input").checkValidity);if(P){for(var b=a.a,c=b.querySelectorAll("input,select,textarea,fieldset"),d=0;d<c.length;d++)Y(c[d]);var e=Y(b);if(a.N&&!e)return a.B.run({measure:void 0,mutate:xb},{validator:a.A}),!1}return!0}
function wb(a,b){if(b&&b.headers){var c=b.headers.get("AMP-Redirect-To");if(c){q().assert("_blank"!=a.aa,"Redirecting to target=_blank using AMP-Redirect-To is currently not supported, use target=_top instead. %s",a.a);try{b=c,q().assert(/^https?\:/i.test(b),'URL must start with "http://" or "https://". Invalid value: %s',b),v(b),ia(c,"AMP-Redirect-To","Url")}catch(d){q().assert(!1,"The `AMP-Redirect-To` header value must be an absolute URL starting with https://. Found %s",c)}a.i.top.location.href=
c}}}function ub(a,b,c){var d=b?"submit-success":"submit-error",e;var f=a.i;e="amp-form."+d;c={response:c};"function"==typeof f.CustomEvent?e=new f.CustomEvent(e,{detail:c}):(f=f.document.createEvent("CustomEvent"),f.initCustomEvent(e,!1,!1,c),e=f);a.C.trigger(a.a,d,e)}
function mb(a,b){var c={};a=a.a.elements;for(var d=/^(?:input|select|textarea)$/i,e=/^(?:button|image|file|reset)$/i,f=/^(?:checkbox|radio)$/i,h=0;h<a.length;h++){var g=a[h],k;if(k=g.name){a:if(g.disabled)k=!0;else{k=sa(g);for(var p=0;p<k.length;p++)if(k[p].disabled){k=!0;break a}k=!1}k=!k}!k||!d.test(g.tagName)||e.test(g.type)||f.test(g.type)&&!g.checked||(void 0===c[g.name]&&(c[g.name]=[]),c[g.name].push(g.value))}b&&fa(c,b);return c}
function Z(a,b){var c=a.f;a.a.classList.remove("amp-form-"+c);a.a.classList.add("amp-form-"+b);a.f=b;a.$.forEach(function(a){"submitting"==b?a.setAttribute("disabled",""):a.removeAttribute("disabled")})}
function vb(a,b){var c=a.a.querySelector("["+a.f+"]");if(c){var d="rendered-message-"+a.I;c.setAttribute("role","alert");c.setAttribute("aria-labeledby",d);c.setAttribute("aria-live","assertive");a.O.hasTemplate(c)?a.O.findAndRenderTemplate(c,b).then(function(a){a.id=d;a.setAttribute("i-amphtml-rendered","");c.appendChild(a)}):(a.Z.mutateElement(c,function(){}),Promise.resolve())}}
function sb(a){if(a=a.a.querySelector("["+a.f+"]")){var b=qa(a,"> [i-amphtml-rendered]");b&&(a=b,a.parentElement&&a.parentElement.removeChild(a))}}l.getDynamicElementContainers=function(){var a=[],b=this.a.querySelector("[submit-success]"),c=this.a.querySelector("[submit-error]");b&&a.push(b);c&&a.push(c);return a};l.ha=function(){return this.da};l.ga=function(){return this.X};function xb(a){a.validator.report()}
function Y(a,b){b=void 0===b?!1:b;if(!a.checkValidity)return!0;var c=!1,d=a.classList.contains("user-valid")?"valid":a.classList.contains("user-invalid")?"invalid":"none",e=a.checkValidity();"valid"!=d&&e?(a.classList.add("user-valid"),a.classList.remove("user-invalid"),c="invalid"==d):"invalid"==d||e||(a.classList.add("user-invalid"),a.classList.remove("user-valid"),c=!0);if(a.validity)for(var f in a.validity)a.classList.toggle(f,a.validity[f]);if(b&&c){f=sa(a);for(var h=0;h<f.length;h++)Y(f[h]);
a.form&&Y(a.form)}return e}function yb(a){this.ca=zb(a).then(function(){return Ab(a)})}yb.prototype.whenInitialized=function(){return this.ca};
function zb(a){return new Promise(function(b){if(a.isSingleDoc()){var c=a.getRootNode();za(c,b)}else{var c=a.getRootNode(),d=c.ownerDocument,e;void 0===I&&(Ga(self.document.registerElement)||Ga(self.Object.getOwnPropertyDescriptor(self,"customElements").get)?(e=Element,e=e.prototype.attachShadow?"v1":e.prototype.createShadowRoot?"v0":"none"):e="none",I=e);if("none"!=I)e="form.amp-form-submit-error [submit-error],form.amp-form-submit-success [submit-success],form.amp-form-submitting [submitting]{display:block}.i-amphtml-validation-bubble{-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%);background-color:#fff;box-shadow:0 5px 15px 0 rgba(0,0,0,.5);max-width:200px;position:absolute;display:none;box-sizing:border-box;padding:10px;border-radius:5px}.i-amphtml-validation-bubble:after{content:' ';position:absolute;bottom:-8px;left:30px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff}[visible-when-invalid]{display:none;color:red}[visible-when-invalid].visible{display:initial}\n/*# sourceURL=/extensions/amp-form/0.1/amp-form.css*/";
else{e=c.id;var f=c.ownerDocument,h=null;try{h=La(f.implementation.createHTMLDocument(""))}catch(g){}if(!h)try{h=La(f)}catch(g){}e=h?Fa.scopeRules.call(Fa,h,"#"+e,Ja):"form.amp-form-submit-error [submit-error],form.amp-form-submit-success [submit-success],form.amp-form-submitting [submitting]{display:block}.i-amphtml-validation-bubble{-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%);background-color:#fff;box-shadow:0 5px 15px 0 rgba(0,0,0,.5);max-width:200px;position:absolute;display:none;box-sizing:border-box;padding:10px;border-radius:5px}.i-amphtml-validation-bubble:after{content:' ';position:absolute;bottom:-8px;left:30px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff}[visible-when-invalid]{display:none;color:red}[visible-when-invalid].visible{display:initial}\n/*# sourceURL=/extensions/amp-form/0.1/amp-form.css*/"}Aa(d,
c,e,!1,null);b()}})}function Ab(a){return a.whenReady().then(function(){Bb(a.getRootNode().querySelectorAll("form"));Cb(a.getRootNode())})}function Bb(a){a&&ta(a,function(a,c){var b=a.__AMP_FORM||null;b||new hb(a,"amp-form-"+c)})}function Cb(a){a.addEventListener("amp:dom-update",function(){Bb(a.querySelectorAll("form"))})}AMP.registerServiceForDoc("amp-form",yb);
})});
//# sourceMappingURL=amp-form-0.1.js.map

